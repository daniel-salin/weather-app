(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=(a(26),a(2)),l=a(5),s=a(6),u=a(8),m=a(7),d=a(9),h=(a(27),a(4)),p=a(42),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=document.querySelector("input");a.props.searchForPosition(t.value)},a.useMyPosition=function(e){e.preventDefault(),a.props.geoLocation()},a.state={loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.loading!==e.loading&&this.setState(Object(i.a)({},this.state,{loading:this.props.loading}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container m-0"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"p-2",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search by city",required:!0}),r.a.createElement("button",{className:"btn",style:{background:"none"},type:"submit"},r.a.createElement("i",{className:"fas fa-2x fa-search-location"}))),r.a.createElement("button",{className:"btn",style:{background:"none"},onClick:this.useMyPosition},r.a.createElement("i",{className:"far fa-2x fa-compass"}))))}}]),t}(r.a.Component),y=(a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e,t){var n=a.props.getWeather;e.preventDefault(),n("units=si",t),n("units=us",t)},a.state={queryLocationHits:""},a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.queryLocationHits!==e.queryLocationHits&&this.setState(Object(i.a)({},this.state,{queryLocationHits:this.props.queryLocationHits}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.convertUnits,n=t.unitType,c=t.searchForPosition,o=t.geoLocation,i=t.position,l=t.loading,s=this.state.queryLocationHits;return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item px-3 pt-2"},r.a.createElement(p.a,{to:"/today",className:"text-light",activeStyle:{fontWeight:"bold",color:"red"}},"Prognosis- today")),r.a.createElement("li",{className:"nav-item px-3 pt-2"},r.a.createElement(p.a,{to:"/five",className:"text-light",activeStyle:{fontWeight:"bold",color:"red"}},"Prognosis- 5 day")),r.a.createElement("li",{className:"nav-item px-3 pt-2"},r.a.createElement(p.a,{to:"/week",className:"text-light",activeStyle:{fontWeight:"bold",color:"red"}},"Prognosis- week")))),r.a.createElement("button",{className:"btn btn-primary btn-sm metric-button",onClick:a},"Metric"===n?"To American":"To Metric")),r.a.createElement("div",{className:"bg-secondary text-light text-center p-1"},r.a.createElement("h5",{className:"m-0 p-0"},i.address)),r.a.createElement(g,{searchForPosition:c,geoLocation:o,loading:l}),""!==s?r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"Match found!",r.a.createElement("button",{className:"btn search-btn","data-toggle":"collapse","data-target":"#search-results","aria-expanded":"true","aria-controls":"collapseExample"},r.a.createElement("i",{className:"fas fa-lg fa-arrow-alt-circle-down mx-2"}))),r.a.createElement("div",{className:"collapse mb-2",id:"search-results"},r.a.createElement("div",{className:"card card-body"},r.a.createElement("h5",null,"Did you mean..."),r.a.createElement("ul",{className:"p-0 m-0"},s.map(function(t){return r.a.createElement("li",{key:t.address,className:"d-inline-flex ml-1 mb-2 badge badge-primary match-badge",onClick:function(a){return e.handleClick(a,t)}},r.a.createElement("p",{className:"text-truncate p-1 m-0"},t.city,"?"))}))))):null)}}]),t}(r.a.Component)),b=a(43),f=a(19),E=(a(32),a(33)(window)),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).selectIcon=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clear-day"){case"clear-day":return E.CLEAR_DAY;case"clear-night":return E.CLEAR_NIGHT;case"rain":return E.RAIN;case"snow":return E.SNOW;case"sleet":return E.SLEET;case"wind":return E.WIND;case"fog":return E.FOG;case"cloudy":return E.CLOUDY;case"partly-cloudy-day":return E.PARTLY_CLOUDY_DAY;case"partly-cloudy-night":return E.PARTLY_CLOUDY_NIGHT;default:return E.CLEAR_DAY}},a.ref=r.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},"large"===this.props.size?r.a.createElement("div",null,r.a.createElement("canvas",{ref:this.ref,width:"80",height:"80"}),r.a.createElement("h5",null,this.props.desc)):"small"===this.props.size?r.a.createElement("div",null,r.a.createElement("canvas",{ref:this.ref,width:"40",height:"40"}),r.a.createElement("p",null,this.props.desc)):r.a.createElement("canvas",{ref:this.ref,width:"300",height:"300"}))}},{key:"componentDidMount",value:function(){var e=this.selectIcon(this.props.icon),t=new E({color:"black"});t.add(this.ref.current,e),t.play()}}]),t}(r.a.Component);a(34);function w(e){var t=e.weather,a=e.unitType;return r.a.createElement("div",{className:"m-0 p-2 row text-center bg-primary text-light"},r.a.createElement("div",{className:"col-sm-4 col-xs-4 text-center"},r.a.createElement("p",{className:"info-bit align-middle"},t.temperature," ","Metric"===a?"\xb0C":"\xb0F")),r.a.createElement("div",{className:"col-sm-4 col-xs-4"},r.a.createElement(v,{desc:t.summary,size:"large",icon:t.icon})),r.a.createElement("div",{className:"col-sm-4 col-xs-12 text-center"},r.a.createElement("ul",{className:"text-left"},r.a.createElement("li",null,r.a.createElement("span",null,"Wind Speed:")," ",t.windSpeed," ","Metric"===a?"m/s":"mph"),r.a.createElement("li",null,r.a.createElement("span",null,"Humidity:")," ",(100*t.humidity).toFixed(0),"%"))))}function N(e){var t=e.weather,a=e.unitType;return r.a.createElement("section",{className:"pb-3"},r.a.createElement(w,{unitType:a,weather:t.currently}),r.a.createElement("h5",{className:"p-2 m-0 bg-warning text-dark text-center"},t.hourly.summary),r.a.createElement("div",{className:"p-2 bg-secondary text-light mx-auto table-container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Desc."),r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Feels"),r.a.createElement("th",null,"Humidity"),r.a.createElement("th",null,"Percip"),r.a.createElement("th",null,"Wind"))),r.a.createElement("tbody",null,t.hourly.data.map(function(e){return t.hourly.data.indexOf(e)%3===0&&t.hourly.data.indexOf(e)<25?r.a.createElement("tr",{key:e.time,className:"text-center"},r.a.createElement("td",null,r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"mx-auto"},new Date(1e3*e.time).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"mx-auto"},new Date(1e3*e.time).toLocaleDateString(navigator.language,{weekday:"short"})))),r.a.createElement("td",{className:"pb-0"},r.a.createElement(v,{desc:e.summary,size:"small",icon:e.icon})),r.a.createElement("td",null,e.temperature,"Metric"===a?"\xb0C":"\xb0F"),r.a.createElement("td",null,e.apparentTemperature,"Metric"===a?"\xb0C":"\xb0F"),r.a.createElement("td",null,(100*e.humidity).toFixed(0),"%"),r.a.createElement("td",null,(100*e.precipProbability).toFixed(0),"%"),r.a.createElement("td",null,e.windSpeed," ","Metric"===a?"m/s":"mph")):null})))))}a(35);function O(e){var t=e.day,a=e.sunriseTime,n=e.sunsetTime,c=e.unitType,o=e.currentDate;return r.a.createElement("div",{key:t.time.toString(),className:"col-lg-3 col-md-6 col-sm-12"},r.a.createElement("div",{className:"card card-custom w-100 m-1 pt-3"},r.a.createElement(v,{size:"large",icon:t.icon}),r.a.createElement("div",{className:"card-body card-body-custom m-0"},r.a.createElement("h5",null,o),r.a.createElement("p",null,r.a.createElement("em",null,t.summary)),r.a.createElement("p",null,r.a.createElement("span",null,"Humidity: "),(100*t.humidity).toFixed(0),"%"),r.a.createElement("p",null,r.a.createElement("span",null,"Temperature(high): "),t.temperatureHigh,"Metric"===c?"\xb0C":"\xb0F"),r.a.createElement("p",null,r.a.createElement("span",null,"Temperature(low): "),t.temperatureLow,"Metric"===c?"\xb0C":"\xb0F"),r.a.createElement("p",null,r.a.createElement("span",null,"Sunrise: "),a),r.a.createElement("p",null,r.a.createElement("span",null,"Sunset: "),n))))}function j(e){var t=e.weather,a=t.daily,n=t.currently,c=e.unitType,o=e.prognosisType;return r.a.createElement("section",null,r.a.createElement(w,{unitType:c,weather:n}),r.a.createElement("div",{className:"bg-secondary"},r.a.createElement("h4",{className:"p-2 bg-warning text-center"},a.summary),r.a.createElement("div",{className:"row p-3"},a.data.map(function(e){var t=new Date(1e3*e.time).toLocaleDateString(navigator.language,{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"}),n=new Date(1e3*e.sunriseTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),i=new Date(1e3*e.sunsetTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});return a.data.indexOf(e)<5&&"fiveDay"===o?r.a.createElement(O,{key:e.time,day:e,currentDate:t,sunsetTime:i,sunriseTime:n,unitType:c}):"week"===o?r.a.createElement(O,{key:e.time,day:e,currentDate:t,sunsetTime:i,sunriseTime:n,unitType:c}):null}))))}var k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.weather,a=e.unitType;return r.a.createElement("main",{className:"mb-2"},r.a.createElement(b.a,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement(N,{unitType:a,weather:t})}}),r.a.createElement(f.a,{path:"/today",render:function(){return r.a.createElement(N,{unitType:a,weather:t})}}),r.a.createElement(f.a,{path:"/five",render:function(){return r.a.createElement(j,{prognosisType:"fiveDay",unitType:a,weather:t})}}),r.a.createElement(f.a,{path:"/week",render:function(){return r.a.createElement(j,{prognosisType:"week",unitType:a,weather:t})}})))}}]),t}(r.a.Component);function x(){return r.a.createElement("footer",{className:"text-center bg-dark text-light p-3"},r.a.createElement("a",{className:"text-light mt-2",href:" https://darksky.net/poweredby/"},"Powered by Dark Sky"))}var S=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).convertCoords=function(e,a){var n="".concat(e,",").concat(a),r="https://api.opencagedata.com/geocode/v1/json?q=".concat(n,"&key=").concat("edc374fea64844bbb30a0f63069fefdd","&pretty=1");fetch(r).then(function(e){if(e.ok)return e.json();throw new Error("Connection to OpenCage API failed")}).then(function(e){return t.setState(Object(i.a)({},t.state,{position:Object(i.a)({},t.state.position,{address:e.results[0].formatted})})),!0}).catch(function(e){return console.log("There was an error: ",e.message)})},t.searchForPosition=function(e,a){var n="https://api.opencagedata.com/geocode/v1/json?q=".concat(null===e?a:e,"&key=").concat("edc374fea64844bbb30a0f63069fefdd","&pretty=1");fetch(n).then(function(e){if(e.ok)return e.json();throw new Error("Connection to OpenCage API failed")}).then(function(a){null===e&&a.results.length>1?t.setState(Object(i.a)({},t.state,{position:a.results.formatted})):(t.handleQueryPositions(a.results),t.setState(Object(i.a)({},t.state,{queryPosition:a.results[0].components})))}).catch(function(e){return console.log("There was an error: ",e.message)})},t.handleQueryPositions=function(e){var a=[];e.map(function(e){var t={city:e.formatted,geo:{latitude:e.geometry.lat,longitude:e.geometry.lng}};return a.push(t)}),t.setState(Object(i.a)({},t.state,{queryLocationHits:a}))},t.getWeather=function(e,a){t.setState(Object(i.a)({},t.state,{loading:!0}));var n,r,c=e;null===a?(n=t.state.position.latitude,r=t.state.position.longitude):(n=a.geo.latitude,r=a.geo.longitude,t.setState(Object(i.a)({},t.state,{position:Object(i.a)({},t.state.position,{address:a.city})})));var o="".concat("https://cors-anywhere.herokuapp.com","/").concat("https://api.darksky.net","/").concat("forecast","/").concat("9b80bc403010ba20b653fd2f09cce6fa","/").concat(n,",").concat(r,"?").concat(c);fetch(o).then(function(e){if(e.ok)return e.json();throw new Error("Connection to DarkSky API failed")}).then(function(e){"units=si"===c?t.setState(Object(i.a)({},t.state,{weatherSI:e,loading:"complete"})):t.setState(Object(i.a)({},t.state,{weatherUS:e,loading:"complete"}))}).catch(function(e){return console.log("There was an error: ",e.message)})},t.state={queryLocationHits:"",position:"",weatherSI:"",weatherUS:"",loading:!1},t.geoLocation=t.geoLocation.bind(Object(h.a)(Object(h.a)(t))),t.getWeather=t.getWeather.bind(Object(h.a)(Object(h.a)(t))),t.searchForPosition=t.searchForPosition.bind(Object(h.a)(Object(h.a)(t))),t}return Object(d.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.geoLocation()}},{key:"geoLocation",value:function(){var e=this;window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude.toFixed(3),n=t.coords.longitude.toFixed(3);e.convertCoords(a,n);var r={latitude:a,longitude:n};e.setState(Object(i.a)({},e.state,{position:r}));var c=[e.getWeather("units=si",null),e.getWeather("units=us",null)];Promise.all(c)},function(t){e.setState(Object(i.a)({},e.state,{position:"NA"}))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}},{key:"render",value:function(){var t=this.state,a=t.position,n=t.weatherSI,c=t.weatherUS,o=t.queryLocationHits,i=t.loading;return r.a.createElement(e,Object.assign({},this.props,{position:a,weatherSI:n,weatherUS:c,searchForPosition:this.searchForPosition,geoLocation:this.geoLocation,queryLocationHits:o,getWeather:this.getWeather,loading:i}))}}]),a}(r.a.Component)},T=(a(36),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e,t){var n=a.props.getWeather;e.preventDefault(),n("units=si",t),n("units=us",t)},a.state={queryLocationHits:""},a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.queryLocationHits!==e.queryLocationHits&&this.setState(Object(i.a)({},this.state,{queryLocationHits:this.props.queryLocationHits}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.searchForPosition,n=t.geoLocation,c=t.loading,o=t.queryLocationHits;return r.a.createElement("div",{className:"jumbotron pt-3 bg-danger text-light"},r.a.createElement(v,{size:"small"}),r.a.createElement("h1",null,"Welcome to my weather app!"),r.a.createElement("p",null,"So... It turns out you either turned off the location-service or your browser doesn't support this feature. No worries! Just use the search feature to find your position, or try locating yourself again. "),r.a.createElement(g,{searchForPosition:a,geoLocation:n,loading:c}),""!==o?r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"Match found!",r.a.createElement("button",{className:"btn",style:{background:"none"},"data-toggle":"collapse","data-target":"#search-results","aria-expanded":"true","aria-controls":"collapseExample"},r.a.createElement("i",{className:"fas fa-lg fa-arrow-alt-circle-down mx-2"}))),r.a.createElement("div",{className:"collapse mb-2",id:"search-results"},r.a.createElement("div",{className:"card card-body text-dark px-1"},r.a.createElement("h5",null,"Did you mean..."),r.a.createElement("ul",{className:"p-0 m-0"},o.map(function(t){return r.a.createElement("li",{key:t.city,className:"d-inline-flex ml-1 mb-2 badge badge-primary match-badge",onClick:function(a){return e.handleClick(a,t)}},r.a.createElement("p",{className:"text-truncate p-1 m-0"},t.city,"?"))}))))):null)}}]),t}(r.a.Component)),L=S(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).convertUnits=function(){"Metric"===a.state.unitType?a.setState(Object(i.a)({},a.state,{weather:a.props.weatherUS,unitType:"American"})):a.setState(Object(i.a)({},a.state,{weather:a.props.weatherSI,unitType:"Metric"}))},a.state={unitType:"",weather:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.weatherSI!==e.weatherSI&&this.setState(Object(i.a)({},this.state,{weather:this.props.weatherSI,unitType:"Metric",queryLocationHits:this.props.queryLocationHits}))}},{key:"render",value:function(){var e=this.state,t=e.weather,a=e.unitType,n=this.props,c=n.queryLocationHits,o=n.getWeather,i=n.loading,l=n.position,s=n.weatherSI,u=n.searchForPosition,m=n.geoLocation;return window.navigator&&"NA"!==l?""===s||""===this.state.weather?r.a.createElement("div",{className:"container mx-auto p-5"},r.a.createElement(v,null)):r.a.createElement("div",null,r.a.createElement(y,{position:l,unitType:a,convertUnits:this.convertUnits,searchForPosition:u,geoLocation:m,queryLocationHits:c,getWeather:o,loading:i}),r.a.createElement(k,{unitType:a,weather:t}),r.a.createElement(x,null)):r.a.createElement(T,{searchForPosition:u,geoLocation:m,queryLocationHits:c,loading:i,getWeather:o})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(41);a(37).config(),o.a.render(r.a.createElement(C.a,{basename:"/weather-app"},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.34f89d39.chunk.js.map