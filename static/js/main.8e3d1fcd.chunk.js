(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(31)},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=(a(25),a(5)),l=a(6),s=a(8),u=a(7),m=a(9),h=(a(26),a(33));function d(e){return r.a.createElement("header",{className:"container"},r.a.createElement("h1",null,"Weather App - Main Component"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.a,{to:"/current",activeStyle:{fontWeight:"bold",color:"red"}},"Current Weather")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/today",activeStyle:{fontWeight:"bold",color:"red"}},"Prognosis- today")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/week",activeStyle:{fontWeight:"bold",color:"red"}},"Prognosis- week"))))}var p=a(10),E=a(34),g=a(18),w=a(30)(window),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).selectIcon=function(e){switch(e){case"clear-day":return w.CLEAR_DAY;case"clear-night":return w.CLEAR_NIGHT;case"rain":return w.RAIN;case"snow":return w.SNOW;case"sleet":return w.SLEET;case"wind":return w.WIND;case"fog":return w.FOG;case"cloudy":return w.CLOUDY;case"partly-cloudy-day":return w.PARTLY_CLOUDY_DAY;case"partly-cloudy-night":return w.PARTLY_CLOUDY_NIGHT;default:return w.CLEAR_DAY}},a.ref=r.a.createRef(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},"large"===this.props.size?r.a.createElement("canvas",{ref:this.ref,width:"128",height:"128"}):r.a.createElement("canvas",{ref:this.ref,width:"64",height:"64"}))}},{key:"componentDidMount",value:function(){var e=this.selectIcon(this.props.icon),t=new w({color:"red"});t.add(this.ref.current,e),t.play()}}]),t}(r.a.Component);function f(e){var t=e.weather;return r.a.createElement("div",{className:"container p-3 bg-secondary text-light"},r.a.createElement("h4",{className:"container p-2 bg-warning text-dark text-center"},t.summary),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",{scope:"col"},"Hour"),r.a.createElement("th",{scope:"col"},"Weather"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Temperature"),r.a.createElement("th",{scope:"col"},"Apparent temperature"),r.a.createElement("th",{scope:"col"},"Humidity"))),r.a.createElement("tbody",null,t.data.map(function(e){if(t.data.indexOf(e)%3===0&&t.data.indexOf(e)<25)return r.a.createElement("tr",{className:"text-center"},r.a.createElement("td",null,r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"mx-auto"},new Date(1e3*e.time).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"mx-auto"},new Date(1e3*e.time).toLocaleDateString(navigator.language,{weekday:"short"})))),r.a.createElement("td",null,r.a.createElement(y,{size:"small",icon:e.icon})),r.a.createElement("td",null,e.summary),r.a.createElement("td",null,e.temperature),r.a.createElement("td",null,e.apparentTemperature),r.a.createElement("td",null,e.humidity))}))))}function b(e){var t=e.weather,a=t.data,n=t.summary;return r.a.createElement("div",{className:"container p-3 bg-secondary"},r.a.createElement("h4",{className:"container p-2 bg-warning text-center"},n),r.a.createElement("div",{className:"row"},a.map(function(e){var t=new Date(1e3*e.time).toLocaleDateString(navigator.language,{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"}),a=new Date(1e3*e.sunriseTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}),n=new Date(1e3*e.sunsetTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});return r.a.createElement("div",{key:e.time.toString(),className:"col-lg-3 col-md-6 col-sm-12"},r.a.createElement("div",{style:{minHeight:"270px"},className:"card w-100 m-1 bg-info p-2"},r.a.createElement("h5",null,t),r.a.createElement("p",null,e.summary),r.a.createElement("p",null,"Humidity: ",e.humidity),r.a.createElement("p",null,"Sunrise: ",a),r.a.createElement("p",null,"Sunset: ",n),r.a.createElement(y,{size:"small",icon:e.icon})))})))}function v(e){console.log(e);var t=e.weather;return r.a.createElement("div",{className:"container p-3 bg-dark text-light"},r.a.createElement("h2",{className:"text-center"},"Current Weather"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("ul",{className:"text-center",style:{listStyleType:"none"}},r.a.createElement("li",null,"Summary: ",t.summary),r.a.createElement("li",null,"Temperature: ",t.temperature,"\xb0C"),r.a.createElement("li",null,"Wind Speed: ",t.windSpeed," m/s"),r.a.createElement("li",null,"Humidity: ",t.humidity))),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(y,{size:"large",icon:t.icon}))))}var O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).convertUnits=function(){"Metric"===a.state.unitType?a.setState(Object(p.a)({},a.state,{weather:a.props.weatherUS,unitType:"American"})):a.setState(Object(p.a)({},a.state,{weather:a.props.weatherSI,unitType:"Metric"}))},a.state={unitType:"Metric",weather:a.props.weatherSI},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.weather,a=e.unitType;return r.a.createElement("main",null,r.a.createElement("button",{className:"btn btn-small",onClick:this.convertUnits},"Metric"===this.state.unitType?"Display American":"Display Metric"),r.a.createElement(E.a,null,r.a.createElement(g.a,{exact:!0,path:"/current",render:function(){return r.a.createElement(v,{unitType:a,weather:t.currently})}}),r.a.createElement(g.a,{path:"/week",render:function(){return r.a.createElement(b,{unitType:a,weather:t.daily})}}),r.a.createElement(g.a,{path:"/today",render:function(){return r.a.createElement(f,{unitType:a,weather:t.hourly})}})))}}]),t}(r.a.Component),S=a(11),N=function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getWeather=function(e){var a=t.state.position.latitude,n=t.state.position.longitude,r=e,c="".concat("https://cors-anywhere.herokuapp.com","/").concat("https://api.darksky.net","/").concat("forecast","/").concat("9b80bc403010ba20b653fd2f09cce6fa","/").concat(a,",").concat(n,"?").concat(r);fetch(c).then(function(e){if(e.ok)return e.json();throw new Error("Connection to DarkSky API failed")}).then(function(e){"units=si"===r?t.setState(Object(p.a)({},t.state,{weatherSI:e})):t.setState(Object(p.a)({},t.state,{weatherUS:e})),console.log(t.state)}).catch(function(e){return console.log("There was an error: ",e.message)})},t.state={position:"",weatherSI:"",weatherUS:""},t.getMyPosition=t.getMyPosition.bind(Object(S.a)(Object(S.a)(t))),t.getWeather=t.getWeather.bind(Object(S.a)(Object(S.a)(t))),t}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getMyPosition()}},{key:"getMyPosition",value:function(){var e=this;window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(function(t){e.setState(Object(p.a)({},e.state,{position:{latitude:t.coords.latitude,longitude:t.coords.longitude}})),console.log("position: ",e.state.position),e.getWeather("units=us"),e.getWeather("units=si")},function(t){e.setState(Object(p.a)({},e.state,{position:"NA"}))},{enableHighAccuracy:!1,timeout:6e3,maximumAge:0})}},{key:"render",value:function(){var t=this.state,a=t.position,n=t.weatherSI,c=t.weatherUS;return r.a.createElement(e,Object.assign({},this.props,{position:a,weatherSI:n,weatherUS:c}))}}]),a}(r.a.Component)}(function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.position,a=(e.weatherUS,e.weatherSI);if(!window.navigator)return r.a.createElement("div",{className:"container bg-danger text-light"},r.a.createElement("h1",null,"It appears your browser does not support the Geolocation-API"));if(""===t)return r.a.createElement("div",{className:"container bg-primary text-light"},r.a.createElement("h1",null,"LOADING ART GOES HERE"),r.a.createElement("p",null,"Please hold while we're acquiring your position"));if("NA"===t)return r.a.createElement("div",{className:"container bg-danger text-light"},r.a.createElement("h1",null,"FAILED TO RETRIEVE USER LOCATION ART GOES HERE"),r.a.createElement("p",null,"We're having trouble locating your current position. This might have to do with your browser settings or perhaps you're not interested in the weather where you are."));if(""===a)return r.a.createElement("div",{className:"container bg-primary text-light"},r.a.createElement("h1",null,"LOADING WEATHER"));var n=this.props,c=n.weatherSI,i=n.weatherUS;return""!==c?r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(O,{weatherSI:c,weatherUS:i})):void 0}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(32);i.a.render(r.a.createElement(j.a,{basename:"https://daniel-salin.github.io/weather-app"},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.8e3d1fcd.chunk.js.map