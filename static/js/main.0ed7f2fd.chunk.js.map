{"version":3,"sources":["components/Header/Header.js","components/WeatherIcon/WeatherIcon.js","components/TodaysWeather/TodaysWeather.js","components/Prognosis/Prognosis.js","components/Main/Main.js","HOC/withApiCalls.js","components/App/App.js","serviceWorker.js","index.js"],"names":["Header","props","react_default","a","createElement","className","Link","to","Skycons","require","window","TodaysWeather","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","selectIcon","iconDescription","CLEAR_DAY","CLEAR_NIGHT","RAIN","SNOW","SLEET","WIND","FOG","CLOUDY","PARTLY_CLOUDY_DAY","PARTLY_CLOUDY_NIGHT","ref","React","createRef","size","width","height","selectedIcon","icon","skycons","color","add","current","play","Component","weather","summary","scope","data","map","hour","indexOf","Date","time","toLocaleTimeString","navigator","language","minute","toLocaleDateString","weekday","WeatherIcon_TodaysWeather","temperature","apparentTemperature","humidity","Prognosis","_props$weather","day","currentDate","year","month","sunriseTime","sunsetTime","key","toString","style","minHeight","withApiCalls","WrappedComponent","_React$Component","_temp","getWeather","darkskyApiKey","process","REACT_APP_DARKSKY_KEY","latitude","state","position","longitude","url","concat","fetch","then","response","ok","json","Error","setState","objectSpread","catch","error","console","log","message","getMyPosition","bind","assertThisInitialized","inherits","createClass","value","_this2","geolocation","getCurrentPosition","coords","enableHighAccuracy","timeout","maximumAge","_this$state","assign","Main","convertTemperature","temperatureUnit","_this$props","currently","listStyleType","onClick","windSpeed","Route","path","render","daily","TodaysWeather_TodaysWeather","hourly","App","components_Main_Main","Boolean","location","hostname","match","ReactDOM","BrowserRouter","basename","App_App_App","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0ed7f2fd.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Header(props) {\n    \n    return(\n        <header className=\"jumbotron\">\n            <h1>Weather App - Main Component</h1>\n                <ul>\n                    <li><Link to=\"/\">Current Weather</Link></li>\n                    <li><Link to=\"/week\">Prognosis- week</Link></li>\n                    <li><Link to=\"/today\">Prognosis- today</Link></li>\n                </ul>\n        </header>\n    )\n}","import React from \"react\";\n\nconst Skycons = require(\"skycons\")(window);\n\nexport default class TodaysWeather extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.ref = React.createRef();\n  }\n\n  selectIcon = (iconDescription) => {\n    switch (iconDescription) {\n        case \"clear-day\":\n            return Skycons.CLEAR_DAY\n        case \"clear-night\":\n            return Skycons.CLEAR_NIGHT\n        case \"rain\":\n            return Skycons.RAIN \n        case \"snow\":\n            return Skycons.SNOW;\n        case \"sleet\":\n            return Skycons.SLEET;\n        case \"wind\":\n            return Skycons.WIND\n        case \"fog\":\n            return Skycons.FOG\n        case \"cloudy\":\n            return Skycons.CLOUDY\n        case \"partly-cloudy-day\":\n            return Skycons.PARTLY_CLOUDY_DAY\n        case \"partly-cloudy-night\":\n            return Skycons.PARTLY_CLOUDY_NIGHT\n        default: \n            return Skycons.CLEAR_DAY\n    }\n}\n\n  render() {\n    return (\n      <div className=\"App\">\n        { (this.props.size === \"large\") ?\n        <canvas ref={this.ref} width=\"128\" height=\"128\" />\n        :\n        <canvas ref={this.ref} width=\"64\" height=\"64\" />\n        }\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const selectedIcon = this.selectIcon(this.props.icon);\n    const skycons = new Skycons({ color: \"red\" });\n    skycons.add(this.ref.current, selectedIcon);\n    skycons.play();\n  }\n}\n","import React from \"react\";\n\nimport WeatherIcon from \"../WeatherIcon/WeatherIcon\";\n\nexport default function TodaysWeather(props) {\n    const { weather } = props;\n\n    return (\n        <div className=\"container p-3 bg-secondary text-light\">\n             <h4 className=\"container p-2 bg-warning text-dark text-center\">{weather.summary}</h4>\n            <table className=\"table\">\n                <thead>\n                    <tr className=\"text-center\">\n                        <th scope=\"col\">Hour</th>\n                        <th scope=\"col\">Weather</th>\n                        <th scope=\"col\">Description</th>\n                        <th scope=\"col\">Temperature</th>\n                        <th scope=\"col\">Apparent temperature</th>\n                        <th scope=\"col\">Humidity</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    { weather.data.map(hour => {\n                        if (weather.data.indexOf(hour)%3 === 0 && weather.data.indexOf(hour) < 25) {\n                            return (\n                            <tr className=\"text-center\">\n                                <td >\n                                    <div className=\"row\">\n                                <span className=\"mx-auto\">{new Date(hour.time*1000).toLocaleTimeString(navigator.language,{hour: '2-digit', minute:'2-digit'})}</span>\n                                    </div>\n                                    <div className=\"row\">\n                                    <span className=\"mx-auto\">{new Date(hour.time*1000).toLocaleDateString(navigator.language,{ weekday: 'short'})}</span>\n                                    </div>\n                                </td>\n                                <td><WeatherIcon size=\"small\" icon={hour.icon} /></td>\n                                <td>{hour.summary}</td>\n                                <td>{hour.temperature}</td>\n                                <td>{hour.apparentTemperature}</td>\n                                <td>{hour.humidity}</td>\n                            </tr>);\n                        }\n                    })\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n    \n}","import React from \"react\";\n\nimport WeatherIcon from \"../WeatherIcon/WeatherIcon\";\n\nexport default function Prognosis(props) {\n    const { data, summary } = props.weather;\n    return (\n        <div className=\"container p-3 bg-secondary\">\n            <h4 className=\"container p-2 bg-warning text-center\">{summary}</h4>\n            <div className=\"row\">\n                {data.map(day => {\n                    const currentDate = new Date(day.time*1000).toLocaleDateString(navigator.language,{\n                        weekday: 'long',\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit'\n                    });\n                    const sunriseTime = new Date(day.sunriseTime*1000).toLocaleTimeString(navigator.language,{\n                        hour: '2-digit',\n                        minute:'2-digit'\n                    });\n                    const sunsetTime = new Date(day.sunsetTime*1000).toLocaleTimeString(navigator.language,{\n                        hour: '2-digit',\n                        minute:'2-digit'\n                    });\n                    return (\n                        <div key ={day.time.toString()} className=\"col-lg-3 col-md-6 col-sm-12\"> \n                        <div style={{minHeight:\"270px\"}} className=\"card w-100 m-1 bg-info p-2\">\n                            <h5>{currentDate}</h5>\n                            <p>{day.summary}</p>\n                            <p>Humidity: {day.humidity}</p>\n                            <p>Sunrise: {sunriseTime}</p>\n                            <p>Sunset: {sunsetTime}</p>\n                            <WeatherIcon size=\"small\" icon={day.icon}/>\n                        </div>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n","import React from \"react\";\nimport {  Route } from \"react-router-dom\";\n\nimport TodaysWeather from \"../TodaysWeather/TodaysWeather\";\nimport Prognosis from \"../Prognosis/Prognosis\";\nimport WeatherIcon from \"../WeatherIcon/WeatherIcon\";\n\n// HOC\nimport withApiCalls from \"../../HOC/withApiCalls\";\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            weather: \"\",\n            temperatureUnit: \"celsius\"\n        }\n    }\n\n    convertTemperature = () => {\n        (this.state.temperatureUnit === \"celsius\") ? \n        this.setState({...this.state, temperatureUnit: \"farenheit\"})\n        :\n        this.setState({...this.state, temperatureUnit: \"celsius\"})\n    }\n\n    render() {\n        console.log(\"This is the process.env\", process.env.PUBLIC_URL);\n        const {position, weather} = this.props;\n        const { temperatureUnit } = this.state;\n        if(!window.navigator) {\n            return (\n                <div className=\"container bg-danger text-light\">\n                    <h1>It appears your browser does not support the Geolocation-API</h1>\n                </div>\n            )\n        } else if(position === \"\") {\n             return ( \n                 <div className=\"container bg-primary text-light\">\n                 <h1>LOADING ART GOES HERE</h1>\n                     <p>Please hold while we're acquiring your position</p>\n                 </div>\n                )\n            } else if(position === \"NA\") {\n                return (\n                    <div className=\"container bg-danger text-light\">\n                    <h1>FAILED TO RETRIEVE USER LOCATION ART GOES HERE</h1>\n                    <p>We're having trouble locating your current position. This might have to do with your browser settings or perhaps you're not interested in the weather where you are.</p>\n                </div>\n            )\n        } else if(weather === \"\") {\n            return(\n                <div className=\"container bg-primary text-light\">\n                    <h1>LOADING WEATHER</h1>\n                </div>\n            )\n         } else {\n             const { currently } = weather;\n             console.log(\"This is the process.env\", process.env)\n             \n            return (\n                <main>\n                    <div className=\"container p-3 bg-dark text-light\"> \n                    <h2 className=\"text-center\">Current Weather</h2>\n                    <div className=\"row\">\n                        <div className=\"col-md-6 col-sm-12\">\n                            <ul className=\"text-center\" style={{listStyleType:\"none\"}}>\n                                <li><button className=\"btn btn-sm\" onClick={this.convertTemperature}>Switch temperature unit</button></li>\n                                <li>Summary: {currently.summary}</li>\n                                {temperatureUnit === \"celsius\" ? <li>Temperature: {currently.temperature}°C</li> : <li>Temperature: {currently.temperature* 1.8 + 32}°F</li>}\n                                <li>Wind Speed: {currently.windSpeed} m/s</li>\n                                <li>Humidity: {currently.humidity}</li>\n                            </ul>\n                        </div>\n                        <div className=\"col-md-6 col-sm-12\">\n                            <WeatherIcon size=\"large\" icon={currently.icon}/>\n                        </div>\n                    </div>\n                    </div>\n                    <div>\n                        <Route path=\"/week\"\n                            render={() => <Prognosis weather={weather.daily}/>}\n                            />\n                        <Route path=\"/today\"\n                            render={() => <TodaysWeather weather={weather.hourly}/>}\n                            />\n                    </div>\n            </main>\n        )}\n    }\n}\n\nexport default withApiCalls(Main);","import React from \"react\";\n\nconst withApiCalls = (WrappedComponent) => {\n    return class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                position: \"\",\n                weather: \"\"\n        }\n        this.getMyPosition = this.getMyPosition.bind(this);\n        this.getWeather = this.getWeather.bind(this);\n    }\n        componentDidMount() {\n            this.getMyPosition();\n        }\n\n        /* \n        -------------------------------------- \n        GEOLOCATION\n        -------------------------------------- \n        */ \n\n        getMyPosition() {\n            const options = {\n                enableHighAccuracy: false,\n                timeout: 6000,\n                maximumAge: 0\n              };\n\n            if (window.navigator.geolocation) {\n                window.navigator.geolocation.getCurrentPosition(position => {\n                this.setState({\n                    ...this.state, \n                    position: {\n                        latitude: position.coords.latitude,\n                        longitude: position.coords.longitude\n                    }\n                });\n                this.getWeather();\n              }, (error) => {\n                this.setState({ \n                    ...this.state, \n                    position: \"NA\"\n                })\n              }, options)\n            }\n          }\n\n        /* \n        -------------------------------------- \n        DARKSKY API\n        -------------------------------------- \n        */ \n        \n        getWeather = () => {\n            // API call options\n            // Using a proxy to handle CORS issues while in dev-mode\n            const devCorsProxy = \"https://cors-anywhere.herokuapp.com\";\n            const baseUrl = \"https://api.darksky.net\";\n            const parameters = \"forecast\";\n            const darkskyApiKey = process.env.REACT_APP_DARKSKY_KEY;\n            const latitude = this.state.position.latitude;\n            const longitude = this.state.position.longitude;\n\n            //fetch data\n            const url = `${devCorsProxy}/${baseUrl}/${parameters}/${darkskyApiKey}/${latitude},${longitude}`;\n            fetch(url).then(response => {\n                if(response.ok) {\n                    return response.json();\n                } else { \n                    throw new Error('Connection to DarkSky API failed');\n                }\n            })\n            .then(data => this.setState({\n                ...this.state, weather: data\n            }))\n            .catch(error => console.log(\"There was an error: \", error.message));\n        } \n\n        render() {\n            const { position, weather } = this.state;\n            return ( \n            <WrappedComponent \n                {...this.props}\n                position= {position}\n                weather= {weather}\n                />\n            )\n        }\n    }\n}\n\nexport default withApiCalls;\n","import React, { Component } from 'react';\nimport './App.css';\n\n// Components\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n        <Header />\n        <Main />\n      </div>\n    )\n  }\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from '../node_modules/react-router-dom';\n\nReactDOM.render(\n(<BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n</BrowserRouter>), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}